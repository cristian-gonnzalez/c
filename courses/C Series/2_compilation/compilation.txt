Compilation


1. Header files (.h)

    - Provide declarations (function prototypes, typedefs, structs, constants).
    - Do not contain code that gets compiled.
    - Are included using #include.
    - Use header guards to avoid multiple inclusion.


   Example: math.h
   
      #ifndef MATH_H
      #define MATH_H

      int add(int a, int b);

      #endif


2. Source files (.c)

    - Contain the implementation (function bodies).
    - Are individually compiled into object files (.o).

  Example: math.c

      #include "math.h"

      int add(int a, int b) {
          return a + b;
      }

-- How #include works?

    The preprocessor literally copies the contents of the header into the .c file before the compiler runs.

    After preprocessing, math.c becomes something like:

  Example: math.c

      int add(int a, int b);

      int add(int a, int b) {
          return a + b;
      }


  Example: main.c
    #include "math.h"

    int main() {
        add(1, 4);
        return 0;
    }



> gcc main.c math.c -o prog
   
  ____       ____        ____
 |    |     |    |      |    |
 |    |     |    |      |    |
 |____|     |____|      |____|
  main.c     math.c      math.h
  ~~~~~      ~~~~~
   ^           ^
   |           |
   |___________|
   		|         ____
   	   gcc ->  |1001|   ->   ./prog
   	           |0101|
   	           |____|
   	 
   	 The .c files are the only ones that get compiles with gcc. 
   	 The .h files (headers files) was essentially copy and pasted into the .c files 
  with the #include. 

If the header files are in a different direcory, we use:
	-I (capital i) tells our compiler where to find the header files for our project.


Example:

    project/
       include/
           math.h
       src/
           main.c
           math.c

    gcc src/main.c src/math.c -I include -o prog


Step by step

# Compile (with headers in include/)
gcc -I include/ -c src/main.c -o main.o
gcc -I include/ -c src/math.c -o math.o

// Step 2 â€” Link the object files into an executable
gcc main.o math.o -o prog

